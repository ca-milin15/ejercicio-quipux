
create database quipux;

CREATE TABLE `usuario` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `usuario` varchar(50) NOT NULL,
  `contrasena` varchar(150) NOT NULL,
  `nombre` varchar(50) NOT NULL,
  `apellido` varchar(100) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `usuario_idx` (`usuario`)
);


CREATE TABLE `lista_reproduccion` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `nombre` varchar(50) NOT NULL,
  `descripcion` varchar(150) NOT NULL,
  `id_usuario` bigint NOT NULL,
  PRIMARY KEY (`id`),
  FOREIGN KEY (`id_usuario`) REFERENCES usuario (`id`),
  UNIQUE KEY `nombre_idx` (`nombre`)
);

CREATE TABLE `cancion` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `titulo` varchar(150) NOT NULL,
  `artista` varchar(150) NOT NULL,
  `album` varchar(150) NOT NULL,
  `anno` int(4) NOT NULL,
  PRIMARY KEY (`id`)
);

CREATE TABLE `lista_reproduccion_x_cancion` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `id_lista_reproduccion` bigint NOT NULL,
  `id_cancion` bigint NOT NULL,
  PRIMARY KEY (`id`),
  FOREIGN KEY (`id_lista_reproduccion`) REFERENCES lista_reproduccion (`id`),
  FOREIGN KEY (`id_cancion`) REFERENCES cancion (`id`)
);
